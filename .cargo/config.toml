[build]
# 並列ジョブ数を設定
jobs = 4

# リンカーの最適化
rustflags = [
    "-C", "target-cpu=native",
    "-C", "opt-level=3",
]

# インクリメンタルコンパイルを有効化
incremental = true

# [target.x86_64-unknown-linux-gnu]
# # LLDリンカーを使用
# linker = "clang"
# rustflags = ["-C", "link-arg=-fuse-ld=lld"]

[profile.dev]
# 開発ビルドでも最適化を有効化
opt-level = 1
# デバッグ情報を含める
debug = true
# コード生成単位を小さくして並列性を向上
codegen-units = 256
# インクリメンタルコンパイルを有効化
incremental = true

[profile.release]
# 最大限の最適化
opt-level = 3
# デバッグ情報を含めない
debug = false
# リンク時最適化を有効化
lto = "thin"
# コード生成単位を減らして最適化を向上
codegen-units = 16
# パニック時にアンワインドせずに中止
panic = "abort"

[profile.bench]
# ベンチマーク用の最適化
opt-level = 3
debug = false
lto = "thin"
codegen-units = 1
incremental = false

[profile.test]
# テスト用の最適化
opt-level = 1
debug = true
codegen-units = 256
incremental = true

[cargo-new]
# 新しいプロジェクトのデフォルト設定
vcs = "git"

[alias]
# 便利なエイリアス
b = "build"
c = "check"
t = "test"
r = "run"
rr = "run --release"
br = "build --release"